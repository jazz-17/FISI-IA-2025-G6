import{h as L,d as F,c as k,a as m,b as R,w as V,t as C,v as q,e as K,F as U,r as Z,n as M,f as _,g as O,i as z,o as w}from"./runtime-dom.esm-bundler.DXc2HQ5F.js";/**
 * @license lucide-vue-next v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),H=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(o,u,e)=>e?e.toUpperCase():u.toLowerCase()),J=r=>{const o=H(r);return o.charAt(0).toUpperCase()+o.slice(1)},W=(...r)=>r.filter((o,u,e)=>!!o&&o.trim()!==""&&e.indexOf(o)===u).join(" ").trim();/**
 * @license lucide-vue-next v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var E={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=({size:r,strokeWidth:o=2,absoluteStrokeWidth:u,color:e,iconNode:d,name:n,class:i,...l},{slots:b})=>L("svg",{...E,width:r||E.width,height:r||E.height,stroke:e||E.stroke,"stroke-width":u?Number(o)*24/Number(r):o,class:W("lucide",...n?[`lucide-${T(J(n))}-icon`,`lucide-${T(n)}`]:["lucide-icon"]),...l},[...d.map(h=>L(...h)),...b.default?[b.default()]:[]]);/**
 * @license lucide-vue-next v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=(r,o)=>(u,{slots:e})=>L(B,{...u,iconNode:o,name:r},e);/**
 * @license lucide-vue-next v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=Q("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),ee=(r,o)=>{const u=r.__vccOpts||r;for(const[e,d]of o)u[e]=d;return u},f="X",g="O",x="",G=2e3,te=F({__name:"AI",setup(r,{expose:o}){o();const u=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],e=_(Array(9).fill(x)),d=_(f),n=_(null),i=_(!1),l=_([]),b=O(()=>n.value!==null),h=O(()=>e.value.every(t=>t!==x)),D=O(()=>i.value?"AI is thinking":n.value===f?"You win! (X)":n.value===g?"AI wins! (O)":n.value==="Draw"?"It's a draw!":"Your Turn (X)"),P=t=>{i.value||b.value||e.value[t]!==x||d.value!==f||(e.value[t]=f,p(e.value,f)?n.value=f:h.value?n.value="Draw":d.value=g)},p=(t,c)=>u.some(a=>a.every(s=>t[s]===c)),X=()=>{e.value=Array(9).fill(x),d.value=f,n.value=null,i.value=!1,l.value=[]},Y=t=>{const c=l.value.find(a=>a.index===t);return c?c.score:null};z(d,t=>{t===g&&!b.value&&S()});const S=()=>{if(b.value)return;i.value=!0,l.value=[];const t=j(e.value);l.value=t;let c=1/0,a=-1;for(const s of t)s.score<c&&(c=s.score,a=s.index);if(a===-1&&t.length>0)a=t[0].index;else if(a===-1){console.error("AI couldn't find a move, but game not over?"),i.value=!1;return}setTimeout(()=>{if(b.value){i.value=!1,l.value=[];return}e.value[a]=g,i.value=!1,l.value=[],p(e.value,g)?n.value=g:h.value?n.value="Draw":d.value=f},G)},j=t=>{const c=[];for(let a=0;a<t.length;a++)if(t[a]===x){const s=[...t];s[a]=g;let v=A(s,0,!0);c.push({index:a,score:v})}return c},A=(t,c,a)=>{if(p(t,f))return 10;if(p(t,g))return-10;if(t.every(s=>s!==x))return 0;if(a){let s=-1/0;for(let v=0;v<t.length;v++)if(t[v]===x){const y=[...t];y[v]=f;let I=A(y,c+1,!1);s=Math.max(I,s)}return s}else{let s=1/0;for(let v=0;v<t.length;v++)if(t[v]===x){const y=[...t];y[v]=g;let I=A(y,c+1,!0);s=Math.min(I,s)}return s}},N={PLAYER_X:f,PLAYER_O:g,EMPTY_CELL:x,WINNING_COMBINATIONS:u,AI_THINKING_DELAY:G,board:e,currentPlayer:d,winner:n,isAiEvaluating:i,aiEvaluations:l,isGameOver:b,isBoardFull:h,statusMessage:D,makeMove:P,checkWinner:p,resetGame:X,getEvaluationScore:Y,triggerAiMove:S,evaluateAllMoves:j,minimax:A,get Loader(){return $}};return Object.defineProperty(N,"__isScriptSetup",{enumerable:!1,value:!0}),N}}),oe={class:"grow flex flex-col justify-center p-6 text-center space-y-6 bg-stone-100"},re={class:"status text-lg block font-medium text-foreground min-h-[1.75rem]"},se={class:"flex justify-center items-center"},ae={class:"animate-spin ml-2"},ne=["onClick"],ie=["title"],le=["disabled"];function ue(r,o,u,e,d,n){return w(),k("div",oe,[o[1]||(o[1]=m("h1",{class:"text-4xl font-bold tracking-tight text-foreground"}," Tic-Tac-Toe ",-1)),o[2]||(o[2]=m("h3",{class:"text-xl text-muted-foreground"},"Algoritmo Minimax",-1)),o[3]||(o[3]=m("h2",{class:"text-2xl font-semibold text-primary"},"Eres 'X'",-1)),m("div",re,[m("div",se,[R(C(e.statusMessage)+" ",1),V(m("span",ae,[K(e.Loader)],512),[[q,e.isAiEvaluating]])]),o[0]||(o[0]=m("div",null,null,-1))]),m("div",{class:M(["board grid grid-cols-3 gap-2 mx-auto w-64 h-64 md:w-100 md:h-100 p-2 border border-border rounded-lg bg-muted/20 transition-opacity duration-300",{"opacity-60":e.isGameOver,"cursor-default border-primary/50":e.isAiEvaluating}])},[(w(!0),k(U,null,Z(e.board,(i,l)=>(w(),k("div",{key:l,class:M(["cell flex items-center justify-center aspect-square bg-background border border-border rounded-md transition-colors duration-150 ease-in-out",{"cursor-pointer hover:bg-muted/50":i===""&&!e.isGameOver&&!e.isAiEvaluating,"":i!==""||e.isGameOver||e.isAiEvaluating}]),onClick:b=>e.makeMove(l)},[e.isAiEvaluating&&e.getEvaluationScore(l)!==null?(w(),k("span",{key:0,class:"ai-score text-xs font-mono text-muted-foreground opacity-90",title:`Minimax score: ${e.getEvaluationScore(l)}`},C(e.getEvaluationScore(l)),9,ie)):(w(),k("span",{key:1,class:M(["marker text-5xl md:text-6xl font-bold select-none",[i==="X"?"text-blue-600 dark:text-blue-400":"",i==="O"?"text-red-600 dark:text-red-400":""]])},C(i),3))],10,ne))),128))],2),m("div",null,[m("button",{onClick:e.resetGame,class:"reset-button inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-10 px-4 py-2 mt-4 bg-primary text-primary-foreground hover:bg-primary/90",disabled:e.isAiEvaluating}," Reiniciar Juego ",8,le)])])}const de=ee(te,[["render",ue]]);export{de as default};
